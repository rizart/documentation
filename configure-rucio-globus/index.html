<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.74">
<link rel="alternate" type="application/rss+xml" href="/documentation/blog/rss.xml" title="Rucio Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documentation/blog/atom.xml" title="Rucio Documentation Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Rucio Documentation" href="/documentation/opensearch.xml">
<link rel="stylesheet" href="/documentation/css/custom.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Configure Rucio To Use Globus Online as a Transfer Tool | Rucio Documentation</title><meta data-react-helmet="true" property="og:url" content="https://rucio.github.io/documentation/configure-rucio-globus"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Configure Rucio To Use Globus Online as a Transfer Tool | Rucio Documentation"><meta data-react-helmet="true" name="description" content="This document walks through an example configuration of Rucio to use Globus"><meta data-react-helmet="true" property="og:description" content="This document walks through an example configuration of Rucio to use Globus"><link data-react-helmet="true" rel="shortcut icon" href="/documentation/img/android-chrome-512x512.png"><link data-react-helmet="true" rel="canonical" href="https://rucio.github.io/documentation/configure-rucio-globus"><link data-react-helmet="true" rel="alternate" href="https://rucio.github.io/documentation/configure-rucio-globus" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://rucio.github.io/documentation/configure-rucio-globus" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/documentation/assets/css/styles.34599dd5.css">
<link rel="preload" href="/documentation/assets/js/styles.d3511ba4.js" as="script">
<link rel="preload" href="/documentation/assets/js/runtime~main.e4212d01.js" as="script">
<link rel="preload" href="/documentation/assets/js/main.480c768a.js" as="script">
<link rel="preload" href="/documentation/assets/js/1.195b073c.js" as="script">
<link rel="preload" href="/documentation/assets/js/2.b3706305.js" as="script">
<link rel="preload" href="/documentation/assets/js/385.e3cc7409.js" as="script">
<link rel="preload" href="/documentation/assets/js/388.275869cb.js" as="script">
<link rel="preload" href="/documentation/assets/js/935f2afb.1c30bcea.js" as="script">
<link rel="preload" href="/documentation/assets/js/17896441.514191f1.js" as="script">
<link rel="preload" href="/documentation/assets/js/fdc82c9f.4d9d7d8e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Rucio Documentation</strong></a><a class="navbar__item navbar__link" href="/documentation/client_api/accountclient">Python Client API</a><a href="/documentation/html/rest_api_doc.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">REST API</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Rucio Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/documentation/client_api/accountclient">Python Client API</a></li><li class="menu__list-item"><a href="/documentation/html/rest_api_doc.html" target="_blank" rel="noopener noreferrer" class="menu__link">REST API</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/documentation/">Welcome</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/before_you_get_started">Before you get started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/what_is_rucio">What is Rucio?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/main_components">Main Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/additional_layers_and_resources">Additional Layers and Resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/requirements">Requirements</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/rucio_account">Rucio account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/file_dataset_container">Files, Datasets, and Containers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/rucio_storage_element">Rucio Storage Element</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/metadata_attributes">Metadata attributes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/permission_model">Permission model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/replica_management">Replica management with replication rules</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/replication_rules_examples">Replication rule examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/rse_expressions">RSE Expressions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/accounting_and_quota">Accounting and quota</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/notifications">Notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/subscriptions">Subscriptions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/replica_workflow">Typical Replica Workflow</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/releasepolicy">Release Policy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/release-notes">Release Notes</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/setting_up_the_rucio_client">Setting Up the Rucio Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/using_the_client">Using the Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/using_the_admin_client">Using the Admin Client</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Python Client API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/accountclient">AccountClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/accountlimitclient">AccountLimitClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/baseclient">BaseClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/client">Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/configclient">ConfigClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/credentialclient">CredentialClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/didclient">DIDClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/diracclient">DiracClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/downloadclient">DownloadClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/exportclient">ExportClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/fileclient">FileClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/importclient">ImportClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/lifetimeclient">LifetimeClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/lockclient">LockClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/metaclient">MetaClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/pingclient">PingClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/replicaclient">ReplicaClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/requestclient">RequestClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/rseclient">RSEClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/ruleclient">RuleClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/scopeclient">ScopeClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/subscriptionclient">SubscriptionClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/touchclient">TouchClient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/client_api/uploadclient">UploadClient</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Operator</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/installing_server">Installing Rucio Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/installing_daemons">Installing Rucio Daemons</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/monitoring">Monitoring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/database">Database Operations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/administration">Administration Tricks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/configuration_parameters">Configuration parameters</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Transfers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/transfers-overview">Transfers Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/transfers-submitter">Transfers Submitter</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/documentation/configure-rucio-globus">Configure Rucio To Use Globus Online as a Transfer Tool</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/policy_packages">Policy Packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/s3_rse_config">S3 Storage Configuration</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Executables</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-abacus-account">rucio-abacus-account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-abacus-collection-replica">rucio-abacus-collection-replica</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-abacus-rse">rucio-abacus-rse</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-admin">rucio-admin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-atropos">rucio-atropos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-auditor">rucio-auditor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-automatix">rucio-automatix</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-bb8">rucio-bb8</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-c3po">rucio-c3po</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-cache-client">rucio-cache-client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-cache-consumer">rucio-cache-consumer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-conveyor-finisher">rucio-conveyor-finisher</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-conveyor-poller">rucio-conveyor-poller</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-conveyor-preparer">rucio-conveyor-preparer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-conveyor-receiver">rucio-conveyor-receiver</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-conveyor-stager">rucio-conveyor-stager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-conveyor-submitter">rucio-conveyor-submitter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-conveyor-throttler">rucio-conveyor-throttler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-dark-reaper">rucio-dark-reaper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-dumper">rucio-dumper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-follower">rucio-follower</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-hermes">rucio-hermes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-hermes2">rucio-hermes2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-judge-cleaner">rucio-judge-cleaner</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-judge-evaluator">rucio-judge-evaluator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-judge-injector">rucio-judge-injector</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-judge-repairer">rucio-judge-repairer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-kronos">rucio-kronos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-light-reaper">rucio-light-reaper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-minos-temporary-expiration">rucio-minos-temporary-expiration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-minos">rucio-minos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-necromancer">rucio-necromancer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-oauth-manager">rucio-oauth-manager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-reaper">rucio-reaper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-replica-recoverer">rucio-replica-recoverer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-storage-consistency-actions">rucio-storage-consistency-actions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-transmogrifier">rucio-transmogrifier</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio-undertaker">rucio-undertaker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/bin/rucio">rucio</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developer</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/setting_up_demo">Setting up a Rucio demo environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/developing_with_rucio">Developing with Rucio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/contributing">Contributing Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/rest_api_doc">Rest Api Documentation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/component_leads">Component leads</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/type_annotation_guide">Type Annotation Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About Us</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/about_our_contributors">About Our Contributors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/documentation/contact_us">Contact us</a></li></ul></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Configure Rucio To Use Globus Online as a Transfer Tool</h1></header><div class="markdown"><p>This document walks through an example configuration of Rucio to use Globus
Online as a transfer tool. There are four configuration points shown here:
registration of your application with Globus, RSE setup (properties and
parameters), the Rucio configuration file rucio.cfg and the Globus configuration
file config.yml.</p><p>Use of both Globus Server endpoints and Globus Personal endpoints has been
tested with the below approach. Creation of the Globus endpoints is outside the
scope here. Some knowledge of Rucio setup and familiarity with Globus
configuration is presumed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="register-application-with-globus"></a>Register Application with Globus<a class="hash-link" href="#register-application-with-globus" title="Direct link to heading">#</a></h2><p>Using Globus Online as a transfer tool requires
<a href="https://developers.globus.org" target="_blank" rel="noopener noreferrer">registering</a> the client application with Globus
Online. Be sure to select Native App and include a scope for
urn:globus:auth:scope:transfer.api.globus.org:all. Once you have the Client ID
youâ€™ll need to install the globus sdk and run the below Python code to obtain a
refresh token.</p><p>There is a <a href="https://globus-sdk-python.readthedocs.io/en/stable/tutorial.html" target="_blank" rel="noopener noreferrer">helpful
walk-through</a>
that goes into more detail around OAuth and token retrieval.</p><p>Obtain a refresh token to access Globus resources:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI py"><div tabindex="0" class="prism-code language-py codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># obtain authorization code</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> globus_sdk</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">CLIENT_ID </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># your client ID obtained from registering application</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">client </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> globus_sdk</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">NativeAppAuthClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">CLIENT_ID</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">oauth2_start_flow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">refresh_tokens</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">oauth2_get_authorize_url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Use URL returned here to obtain the authorization</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">AUTH_CODE </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Use authorization code returned by authenticating to Globus Online</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># use the authorization code to create a refresh token</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">token_response </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">oauth2_exchange_code_for_tokens</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">AUTH_CODE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">refresh_token </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> token_response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">by_resource_server</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;transfer.api.globus.org&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;refresh_token&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="rse-setup"></a>RSE Setup<a class="hash-link" href="#rse-setup" title="Direct link to heading">#</a></h2><p>Below shows a typical setup for a test RSE. Options for CLI given when
supported.</p><p>The following code will create a non-determinisic RSE.</p><p>Python:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI py"><div tabindex="0" class="prism-code language-py codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># set up the target non-deterministic rse (TEST_RSE)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> rucio</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">rseclient </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> RSEClient</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rseclient </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> RSEClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rse_name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TEST_RSE&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># rse name MUST BE UPPER CASE</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rse_properties </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ASN&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ASN&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;availability&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">7</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;deterministic&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;volatile&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;city&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Upton&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;region_code&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;DE&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;country_name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;US&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;continent&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;NA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;time_zone&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;America/New_York&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ISP&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;staging_area&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;rse_type&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;DISK&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;longitude&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">40.868352</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;latitude&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">72.878871</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">r </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> rseclient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add_rse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rse_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">**</span><span class="token plain">rse_properties</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># r is true on success</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>CLI alternative: RSE creation not supported at time of writing of this document
as there is no way to pass the properties.</p><p>The following code creates a schema to connect to Globus for the RSE created
above.</p><p>Python:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI py"><div tabindex="0" class="prism-code language-py codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> rucio</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">rseclient </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> RSEClient</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rseclient </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> RSEClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rse_name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TEST_RSE&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># rse name MUST BE UPPER CASE</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Globus scheme</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">prefix </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/~/scratch-space/&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Be sure to use a relative path for your endpoint</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">params </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;scheme&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;globus&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;prefix&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> prefix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;impl&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;rucio.rse.protocols.globus.GlobusRSEProtocol&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;third_party_copy&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;domains&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;lan&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;read&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;write&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;delete&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;wan&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;read&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;write&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;delete&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">p </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> rseclient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add_protocol</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rse_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> params</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># p is true on success</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>CLI alternative: (the hostname value is required for the CLI command but is
arbitrary as it is ultimately not used in the scheme):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> rucio-admin rse add-protocol --scheme </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;globus&#x27;</span><span class="token plain"> --prefix </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/~/scratch-space&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    --impl </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;rucio.rse.protocols.globus.GlobusRSEProtocol&#x27;</span><span class="token plain"> --domain-json </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;wan&quot;: {&quot;read&quot;: 1, &quot;write&quot;: 1, &quot;third_party_copy&quot;: 1, &quot;delete&quot;: 1}, \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">    &quot;lan&quot;: {&quot;read&quot;: 1, &quot;write&quot;: 1, &quot;third_party_copy&quot;: 1, &quot;delete&quot;: 1}}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    --hostname </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;globus_online&#x27;</span><span class="token plain"> TEST_RSE</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The following code sets some attributes for the RSE.</p><p>Python:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI py"><div tabindex="0" class="prism-code language-py codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> rucio</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">rseclient </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> RSEClient</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rseclient </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> RSEClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rse_name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TEST_RSE&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># rse name MUST BE UPPER CASE</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> rseclient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add_rse_attribute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rse </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> rse_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;naming_convention&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;bnl&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># This is the value for relative SURL</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> rseclient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add_rse_attribute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rse </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> rse_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;globus_endpoint_id&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;d6ae63d8-503f-11e9-a620-0a54e005f849&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> rseclient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add_rse_attribute</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">rse </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> rse_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  key </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;istape&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>CLI alternative:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> rucio-admin rse set-attribute --rse TEST_RSE --key naming_convention --value bnl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> rucio-admin rse set-attribute --rse TEST_RSE --key globus_endpoint_id --value d6ae63d8-503f-11e9-a620-0a54e005f849</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> rucio-admin rse set-attribute --rse TEST_RSE --key istape --value </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="rucio-configuration-file"></a>Rucio Configuration File<a class="hash-link" href="#rucio-configuration-file" title="Direct link to heading">#</a></h2><p>The Rucio configuration file rucio.cfg should contain the following for the
conveyor mechanism. More schemes can be included but globus is required. You
only need the file scheme if you plan on using the upload method for
replicas. If the transfertype value is bulk Rucio will bundle many files into a
transfer task. If single then each file will be submitted on individual transfer
tasks.:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">conveyor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">scheme </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> file,globus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">transfertool </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> globus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">transfertype </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> bulk</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">globus_auth_app </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> MyGlobusAuthApp</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>globus_auth_app is the application given in config.yml (see below)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="globus-configuration-file"></a>Globus Configuration File<a class="hash-link" href="#globus-configuration-file" title="Direct link to heading">#</a></h2><p>The Globus configuration file ./lib/rucio/transfertool/config.yml is a file of
YAML syntax and should include at minimum the registered application name, the
client ID and refresh token:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI yml"><div tabindex="0" class="prism-code language-yml codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">globus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">apps</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">RucioGlobusXferNativeApp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">client_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> a758</span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">refresh_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Agjo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/rucio/documentation/tree/main/docs/../docs/configure_globus_transfertool.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2023-01-18T05:32:37.000Z" class="lastUpdatedDate_nN9m">1/18/2023</time> by <strong>Rizart Dona</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/documentation/transfers-submitter"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Transfers Submitter</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/documentation/policy_packages"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Policy Packages Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#register-application-with-globus" class="table-of-contents__link">Register Application with Globus</a></li><li><a href="#rse-setup" class="table-of-contents__link">RSE Setup</a></li><li><a href="#rucio-configuration-file" class="table-of-contents__link">Rucio Configuration File</a></li><li><a href="#globus-configuration-file" class="table-of-contents__link">Globus Configuration File</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright Â© 2022 CERN</div></div></div></footer></div>
<script src="/documentation/assets/js/styles.d3511ba4.js"></script>
<script src="/documentation/assets/js/runtime~main.e4212d01.js"></script>
<script src="/documentation/assets/js/main.480c768a.js"></script>
<script src="/documentation/assets/js/1.195b073c.js"></script>
<script src="/documentation/assets/js/2.b3706305.js"></script>
<script src="/documentation/assets/js/385.e3cc7409.js"></script>
<script src="/documentation/assets/js/388.275869cb.js"></script>
<script src="/documentation/assets/js/935f2afb.1c30bcea.js"></script>
<script src="/documentation/assets/js/17896441.514191f1.js"></script>
<script src="/documentation/assets/js/fdc82c9f.4d9d7d8e.js"></script>
</body>
</html>