<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.74">
<link rel="alternate" type="application/rss+xml" href="/documentation/blog/rss.xml" title="Rucio Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documentation/blog/atom.xml" title="Rucio Documentation Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Rucio Documentation" href="/documentation/opensearch.xml">
<link rel="stylesheet" href="/documentation/css/custom.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">1.24.0 | Rucio Documentation</title><meta data-react-helmet="true" property="og:url" content="https://rucio.github.io/documentation/release-notes/1.24.0"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="1.24.0 | Rucio Documentation"><meta data-react-helmet="true" name="description" content="Upgrade Instructions"><meta data-react-helmet="true" property="og:description" content="Upgrade Instructions"><link data-react-helmet="true" rel="shortcut icon" href="/documentation/img/android-chrome-512x512.png"><link data-react-helmet="true" rel="canonical" href="https://rucio.github.io/documentation/release-notes/1.24.0"><link data-react-helmet="true" rel="alternate" href="https://rucio.github.io/documentation/release-notes/1.24.0" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://rucio.github.io/documentation/release-notes/1.24.0" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/documentation/assets/css/styles.be616fc4.css">
<link rel="preload" href="/documentation/assets/js/styles.96efd4d6.js" as="script">
<link rel="preload" href="/documentation/assets/js/runtime~main.36ddb00c.js" as="script">
<link rel="preload" href="/documentation/assets/js/main.0e8e267a.js" as="script">
<link rel="preload" href="/documentation/assets/js/1.a6c0aab8.js" as="script">
<link rel="preload" href="/documentation/assets/js/2.45b3f7f2.js" as="script">
<link rel="preload" href="/documentation/assets/js/381.4f276600.js" as="script">
<link rel="preload" href="/documentation/assets/js/384.68cb1b82.js" as="script">
<link rel="preload" href="/documentation/assets/js/935f2afb.119a149a.js" as="script">
<link rel="preload" href="/documentation/assets/js/17896441.335c6517.js" as="script">
<link rel="preload" href="/documentation/assets/js/fc37f135.7124c41f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Rucio Documentation</strong></a><a class="navbar__item navbar__link" href="/documentation/client_api/accountclient">Python Client API</a><a href="/documentation/html/rest_api_doc.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">REST API</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Rucio Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/documentation/client_api/accountclient">Python Client API</a></li><li class="menu__list-item"><a href="/documentation/html/rest_api_doc.html" target="_blank" rel="noopener noreferrer" class="menu__link">REST API</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><main class="docMainContainer_r8cw docMainContainerEnhanced_SOUu"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">1.24.0</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="upgrade-instructions"></a>Upgrade Instructions<a class="hash-link" href="#upgrade-instructions" title="Direct link to heading">#</a></h2><p>This feature release requires a database schema upgrade. Please consult the <a href="https://rucio.readthedocs.io/en/latest/database.html" target="_blank" rel="noopener noreferrer">documentation</a> about upgrading your database schema.</p><p>The following changes are necessary and are covered by the <code>alembic upgrade head</code> command:</p><ol><li><p>Adding missing indices which were only available as functional oracle indices. For oracle databases installed with the <a href="https://github.com/rucio/rucio/blob/master/etc/sql/oracle/schema.sql" target="_blank" rel="noopener noreferrer">schema.sql</a> definition, these should already exist (Please verify). (Alembic revision <code>8ea9122275b1</code>)</p><ul><li>Adding <code>SUBSCRIPTIONS_STATE_IDX</code> on <code>subscriptions</code> table</li><li>Adding <code>CONTENTS_RULE_EVAL_FB_IDX</code> on <code>contents</code> table</li><li>Adding <code>REPLICAS_STATE_IDX</code> on <code>replicas</code> table</li><li>Adding <code>BAD_REPLICAS_ACCOUNT_IDX</code> on <code>bad_replicas</code> table</li><li>Adding <code>REQUESTS_DEST_RSE_ID_IDX</code> on <code>requests</code> table</li></ul></li><li><p>Update of <code>REQUESTS_STATE_CHK</code> constraint in <code>requests</code> table in preparation for Conveyor Preparer (Alembic revision <code>d23453595260</code>)</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="important-changes"></a>Important changes<a class="hash-link" href="#important-changes" title="Direct link to heading">#</a></h2><ol><li><p>This Rucio release line drops support for Python 2.7 on the Server/Daemon Side. Only Python 3.6 and 3.7 are supported from now on. Rucio clients are still Python 2.7 compatible for the foreseen future (EOL will be announced). If your environment is requiring to run Rucio under Python 2.7 we recommend the Rucio 1.23 LTS release line, which will be supported until 2022.</p></li><li><p>Due to a fix (<a href="https://github.com/rucio/rucio/issues/3994" target="_blank" rel="noopener noreferrer">#3994</a>) in the salting-algorithm used for Python 3 all hashes for stored passwords in Rucio need to be re-collected. This only affects password authentication. X509, Kerberos or OIDCS authentication is unaffected.</p></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="general"></a>General<a class="hash-link" href="#general" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="features"></a>Features<a class="hash-link" href="#features" title="Direct link to heading">#</a></h3><ul><li>Core &amp; Internals: Add check that alembic version of DB works with rucio release <a href="https://github.com/rucio/rucio/issues/1157" target="_blank" rel="noopener noreferrer">#1157</a></li><li>Core &amp; Internals: Some function based indexes missing in models.py <a href="https://github.com/rucio/rucio/issues/2714" target="_blank" rel="noopener noreferrer">#2714</a></li><li>Core &amp; Internals: Policy packages should support multi-VO Rucio installations <a href="https://github.com/rucio/rucio/issues/3542" target="_blank" rel="noopener noreferrer">#3542</a></li><li>Core &amp; Internals: Provide a bulk method for setting metadata <a href="https://github.com/rucio/rucio/issues/3847" target="_blank" rel="noopener noreferrer">#3847</a></li><li>Database: Upgrade SQLAlchemy version <a href="https://github.com/rucio/rucio/issues/4055" target="_blank" rel="noopener noreferrer">#4055</a></li><li>Replicas: Allow declaring bad replicas via RSE/DID pair and REST API <a href="https://github.com/rucio/rucio/issues/4099" target="_blank" rel="noopener noreferrer">#4099</a></li><li>Transfers: Re-Write of Conveyor-Throttler and the throtteling system <a href="https://github.com/rucio/rucio/issues/4056" target="_blank" rel="noopener noreferrer">#4056</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="enhancements"></a>Enhancements<a class="hash-link" href="#enhancements" title="Direct link to heading">#</a></h3><ul><li>Core &amp; Internals: Make tool execution-dir independent <a href="https://github.com/rucio/rucio/issues/4113" target="_blank" rel="noopener noreferrer">#4113</a></li><li>Core &amp; Internals: Hardcoded atlas-adc-ddm-support eMail address for rule approval <a href="https://github.com/rucio/rucio/issues/4164" target="_blank" rel="noopener noreferrer">#4164</a></li><li>Deletion: all_rses option redundant for light and dark reaper <a href="https://github.com/rucio/rucio/issues/3933" target="_blank" rel="noopener noreferrer">#3933</a></li><li>Release management: Upgrade information in setup.py (1.24.0) <a href="https://github.com/rucio/rucio/issues/4120" target="_blank" rel="noopener noreferrer">#4120</a></li><li>Release management: 1.24 Dependency upgrade <a href="https://github.com/rucio/rucio/issues/4157" target="_blank" rel="noopener noreferrer">#4157</a></li><li>Release management: Python memcached package <a href="https://github.com/rucio/rucio/issues/4169" target="_blank" rel="noopener noreferrer">#4169</a></li><li>Replicas: Set geoip as default sorting algorithm in list_replicas <a href="https://github.com/rucio/rucio/issues/4017" target="_blank" rel="noopener noreferrer">#4017</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bugs"></a>Bugs<a class="hash-link" href="#bugs" title="Direct link to heading">#</a></h3><ul><li>Authentication &amp; Authorisation: Userpass authentication not backwards compatible nor unicode capable <a href="https://github.com/rucio/rucio/issues/3994" target="_blank" rel="noopener noreferrer">#3994</a></li><li>Clients: list_replicas returns a generator with an empty string when there are no replicas <a href="https://github.com/rucio/rucio/issues/2517" target="_blank" rel="noopener noreferrer">#2517</a></li><li>Core &amp; Internals: Clean URLs coming from AWS <a href="https://github.com/rucio/rucio/issues/4159" target="_blank" rel="noopener noreferrer">#4159</a></li><li>Core &amp; Internals: S3 endpoints in TPC must use s3s:// instead of s3:// <a href="https://github.com/rucio/rucio/issues/4173" target="_blank" rel="noopener noreferrer">#4173</a></li><li>DIRAC: Bug in Belle II permission for dirac <a href="https://github.com/rucio/rucio/issues/4174" target="_blank" rel="noopener noreferrer">#4174</a></li><li>Release management: Security upgrade for oic dependency <a href="https://github.com/rucio/rucio/issues/4181" target="_blank" rel="noopener noreferrer">#4181</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="clients"></a>Clients<a class="hash-link" href="#clients" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="bugs-1"></a>Bugs<a class="hash-link" href="#bugs-1" title="Direct link to heading">#</a></h3><ul><li>Clients: Python3 client subparser failure <a href="https://github.com/rucio/rucio/issues/4202" target="_blank" rel="noopener noreferrer">#4202</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="webui"></a>WebUI<a class="hash-link" href="#webui" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="enhancements-1"></a>Enhancements<a class="hash-link" href="#enhancements-1" title="Direct link to heading">#</a></h3><ul><li>WebUI: Suspicious replicas page is hidden <a href="https://github.com/rucio/rucio/issues/4185" target="_blank" rel="noopener noreferrer">#4185</a></li><li>WebUI: RSE usage page uses obsolete SRM counter <a href="https://github.com/rucio/rucio/issues/4195" target="_blank" rel="noopener noreferrer">#4195</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/rucio/documentation/tree/main/docs/../docs/release-notes/1.24.0.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#upgrade-instructions" class="table-of-contents__link">Upgrade Instructions</a></li><li><a href="#important-changes" class="table-of-contents__link">Important changes</a></li><li><a href="#general" class="table-of-contents__link">General</a><ul><li><a href="#features" class="table-of-contents__link">Features</a></li><li><a href="#enhancements" class="table-of-contents__link">Enhancements</a></li><li><a href="#bugs" class="table-of-contents__link">Bugs</a></li></ul></li><li><a href="#clients" class="table-of-contents__link">Clients</a><ul><li><a href="#bugs-1" class="table-of-contents__link">Bugs</a></li></ul></li><li><a href="#webui" class="table-of-contents__link">WebUI</a><ul><li><a href="#enhancements-1" class="table-of-contents__link">Enhancements</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright Â© 2022 CERN</div></div></div></footer></div>
<script src="/documentation/assets/js/styles.96efd4d6.js"></script>
<script src="/documentation/assets/js/runtime~main.36ddb00c.js"></script>
<script src="/documentation/assets/js/main.0e8e267a.js"></script>
<script src="/documentation/assets/js/1.a6c0aab8.js"></script>
<script src="/documentation/assets/js/2.45b3f7f2.js"></script>
<script src="/documentation/assets/js/381.4f276600.js"></script>
<script src="/documentation/assets/js/384.68cb1b82.js"></script>
<script src="/documentation/assets/js/935f2afb.119a149a.js"></script>
<script src="/documentation/assets/js/17896441.335c6517.js"></script>
<script src="/documentation/assets/js/fc37f135.7124c41f.js"></script>
</body>
</html>