<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.74">
<link rel="alternate" type="application/rss+xml" href="/documentation/blog/rss.xml" title="Rucio Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documentation/blog/atom.xml" title="Rucio Documentation Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Rucio Documentation" href="/documentation/opensearch.xml">
<link rel="stylesheet" href="/documentation/css/custom.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:400,500,700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Setting up a Rucio development environment | Rucio Documentation</title><meta data-react-helmet="true" property="og:url" content="https://rucio.github.io/documentation/developing"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Setting up a Rucio development environment | Rucio Documentation"><meta data-react-helmet="true" name="description" content="Prerequisites"><meta data-react-helmet="true" property="og:description" content="Prerequisites"><link data-react-helmet="true" rel="shortcut icon" href="/documentation/img/android-chrome-512x512.png"><link data-react-helmet="true" rel="canonical" href="https://rucio.github.io/documentation/developing"><link data-react-helmet="true" rel="alternate" href="https://rucio.github.io/documentation/developing" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://rucio.github.io/documentation/developing" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/documentation/assets/css/styles.be616fc4.css">
<link rel="preload" href="/documentation/assets/js/styles.cfa2b2ef.js" as="script">
<link rel="preload" href="/documentation/assets/js/runtime~main.f6344cb4.js" as="script">
<link rel="preload" href="/documentation/assets/js/main.dd01a65a.js" as="script">
<link rel="preload" href="/documentation/assets/js/1.f2114934.js" as="script">
<link rel="preload" href="/documentation/assets/js/2.532199a1.js" as="script">
<link rel="preload" href="/documentation/assets/js/375.677454d3.js" as="script">
<link rel="preload" href="/documentation/assets/js/378.35e883c0.js" as="script">
<link rel="preload" href="/documentation/assets/js/935f2afb.89cc8618.js" as="script">
<link rel="preload" href="/documentation/assets/js/17896441.b72804f1.js" as="script">
<link rel="preload" href="/documentation/assets/js/19229a1a.db822031.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Rucio Documentation</strong></a><a class="navbar__item navbar__link" href="/documentation/client_api/accountclient">Python Client API</a><a href="/documentation/html/rest_api_doc.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">REST API</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/documentation/"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="Rucio Documentation" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">Rucio Documentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/documentation/client_api/accountclient">Python Client API</a></li><li class="menu__list-item"><a href="/documentation/html/rest_api_doc.html" target="_blank" rel="noopener noreferrer" class="menu__link">REST API</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><main class="docMainContainer_r8cw docMainContainerEnhanced_SOUu"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Setting up a Rucio development environment</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h2><p>We provide a containerised version of the Rucio development environment for a
quick start. Our containers are ready-made for Docker, which means you need to
have a working Docker installation. To install Docker for your platform, please
refer to the <a href="https://docs.docker.com/install/" target="_blank" rel="noopener noreferrer">Docker installation guide</a>, for
example, for CentOS <a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank" rel="noopener noreferrer">follow these instructions for the Docker Community
Edition</a>. Please make
sure that you install this recent Docker version especially if you are on
CentOS, i.e. its default version is ancient and does not support some features
we rely on.</p><p>Start the Docker daemon with sudo systemctl start docker. You can confirm that
Docker is running properly by executing (might need sudo):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> run hello-world</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>If successful, this will print an informational message telling you that you are
ready to go.  Now, also install the docker-compose helper tool with sudo yum
install docker-compose (might need <a href="https://fedoraproject.org/wiki/EPEL" target="_blank" rel="noopener noreferrer">EPEL</a>
enabled). You are now ready to install the Rucio development environment.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="preparing-the-environment"></a>Preparing the environment<a class="hash-link" href="#preparing-the-environment" title="Direct link to heading">#</a></h2><p>The first step is to check if SELinux is running. SELinux will block access to
the directories mounted inside the container, and so depending on you node might
need to be put in permissive mode with setenforce permissive.</p><p>The second step is to fork the <a href="https://github.com/rucio/rucio" target="_blank" rel="noopener noreferrer">main Rucio repository on
GitHub</a> by clicking the yellow Fork Star button,
and then clone your private forked Rucio repository to your
~/dev/rucio. Afterwards add the main upstream repository as an additional remote
to be able to submit pull requests later on:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> ~/dev</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone git@github.com:</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">your_username</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">/rucio.git</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> rucio</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> remote </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> upstream git@github.com:rucio/rucio.git</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> fetch --all</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Now, ensure that the .git/config is proper, i.e., mentioning your full name and
email address, and create the .githubtoken file that contains a full access
token from <a href="https://github.com/settings/tokens" target="_blank" rel="noopener noreferrer">Github Account Settings</a>.</p><p>Next, startup the Rucio development environment with docker-compose. There are
three different types: a standard one to just run the unittests and do basic
development, which includes just Rucio without any transfer capabilities. One
slightly larger one, which includes the File Transfer Service (FTS) and three
XrootD storage servers to develop upload/download and transfers
capabilities. And a third large one, which adds the full monitoring stack with
Logstash, Elasticsearch, Kibana and Grafana.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="using-the-standard-environment"></a>Using the standard environment<a class="hash-link" href="#using-the-standard-environment" title="Direct link to heading">#</a></h3><p>Run the containers using docker-compose (again might need sudo):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker-compose</span><span class="token plain"> --file etc/docker/dev/docker-compose.yml up -d</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>And verify that it is running properly:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">ps</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>This should show you a few running containers: the Rucio server, the PostgreSQL
database and the Graphite monitoring.</p><p>Finally, you can jump into the container with:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exec</span><span class="token plain"> -it dev_rucio_1 /bin/bash</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To verify that everything is in order, you can now either run the full unit
tests or only set up the database. Running the full testing suite takes ~10
minutes:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">tools/run_tests_docker.sh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Alternatively, you can bootstrap the test environment once with the -i option
and then selectively or repeatedly run test case modules, test case groups, or
even single test cases, for example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">tools/run_tests_docker.sh -i</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pytest -v --full-trace lib/rucio/tests/test_replica.py</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pytest -v --full-trace lib/rucio/tests/test_replica.py:TestReplicaCore</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pytest -v --full-trace lib/rucio/tests/test_replica.py:TestReplicaCore.test_delete_replicas_from_datasets</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="using-the-environment-including-storage"></a>Using the environment including storage<a class="hash-link" href="#using-the-environment-including-storage" title="Direct link to heading">#</a></h3><p>Again run the containers using docker-compose:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker-compose</span><span class="token plain"> --file etc/docker/dev/docker-compose-storage.yml up -d</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>This should show you a few more running containers: the Rucio server, the
PostgreSQL database, FTS and its associated MySQL database, the Graphite
monitoring, and three XrootD storage servers.</p><p>With this container you can upload and download data to/from the storage and
submit data transfers. To set this up, add the -r option to the setup.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">tools/run_tests_docker.sh -ir</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>This creates a few random files and uploads them, creates a few datasets and
containers, and requests a replication rule for the container, which starts in
state REPLICATING. To demonstrate the transfer capability, the daemons can be
run in single-execution mode in order:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio rule-info</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">rule-id</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio-conveyor-submitter –run-once</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio-conveyor-poller –run-once –older-than </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio-conveyor-finisher –run-once</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio rule-info </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">rule-id</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>On the second display of the rule, its state has cleared to OK.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="using-the-environment-including-monitoring"></a>Using the environment including monitoring<a class="hash-link" href="#using-the-environment-including-monitoring" title="Direct link to heading">#</a></h3><p>Again run the containers using docker-compose:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker-compose</span><span class="token plain"> --file etc/docker/dev/docker-compose-storage-monit.yml up -d</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Now you will have the same containers as before plus a full monitoring stack
with Logstash, Elasticsearch, Kibana and Grafana.</p><p>To create some events and write them to Elasticsearch first run again the tests
as before:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">tools/run_tests_docker.sh -ir</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Then you will have to run the transfer daemons (conveyor-</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">*</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>) and messaging daemon (hermes) to send the events to ActiveMQ. There a script
for that which repeats these daemons in single execution mode from the section
in a loop:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">run_daemons</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>When all the daemons ran you will be able to find the events in Kibana. If you
run the docker environment on you local machine you can access Kibana at
<a href="http://localhost:5601" target="_blank" rel="noopener noreferrer">http://localhost:5601</a>. The necessary index pattern will
be added automatically. There is also one dashboard available in Kibana. If it
is running on remote machine you can SSH forward it:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">ssh</span><span class="token plain"> -L </span><span class="token number" style="color:rgb(247, 140, 108)">5601</span><span class="token plain">:127.0.0.1:5601 </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">hostname</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Additionally, there is also a Grafana server running with one simple
dashboard. You can access it at
<a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">http://localhost:3000</a>. The default credentials are
“admin/admin”. Also ActiveMQ web console can be accessed at
<a href="http://localhost:8161" target="_blank" rel="noopener noreferrer">http://localhost:8161</a>.</p><p>If you would like to continously create some transfers and events there are
scripts available for that. Open two different shells and in one run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">create_monit_data</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>And in the other run:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">run_daemons</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="development"></a>Development<a class="hash-link" href="#development" title="Direct link to heading">#</a></h2><p>The idea for containerised development is that you use your host machine to edit
the files, and test the changes within the container environment. On your host
machine, you should be able to:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> ~/dev/rucio</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">emacs </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">file</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To see your changes in action the recommended way is to jump twice into the
container in parallel. One terminal to follow the output of the Rucio server
with a shortcut to tail the logfiles (logshow), and one terminal to actually run
interactive commands:</p><p>From your host, get a separate Terminal 1 (the Rucio “server log show”):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exec</span><span class="token plain"> -it dev_rucio_1 /bin/bash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">logshow</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Terminal 1 can now be left open, and then from your host go into a new Terminal
2 (the “interactive” terminal):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exec</span><span class="token plain"> -it dev_rucio_1 /bin/bash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio </span><span class="token function" style="color:rgb(130, 170, 255)">whoami</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The command will output in Terminal 2, and at the same time the server debug
output will be shown in Terminal 1.</p><p>The same logshow is also available in the FTS container:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exec</span><span class="token plain"> -it dev_fts_1 /bin/bash</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">logshow</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="development-tricks"></a>Development tricks<a class="hash-link" href="#development-tricks" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="server-changes"></a>Server changes<a class="hash-link" href="#server-changes" title="Direct link to heading">#</a></h3><p>If you edit server-side files, e.g. in lib/rucio/web, and your changes are not
showing up then it is usually helpful to flush the memcache and force the
webserver to restart without having to restart the container. Inside the
container execute:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;flush_all&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nc</span><span class="token plain"> localhost </span><span class="token number" style="color:rgb(247, 140, 108)">11211</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> httpd -k graceful</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="database-access"></a>Database access<a class="hash-link" href="#database-access" title="Direct link to heading">#</a></h3><p>The default database is PostgreSQL, and docker-compose is configured to open its
port to the host machine. Using your favourite SQL navigator, e.g.,
<a href="https://dbeaver.io" target="_blank" rel="noopener noreferrer">DBeaver</a>, you can connect to the database using the default
access on localhost:5432 to database name rucio, schema name dev, with username
rucio and password secret.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="docker-is-eating-my-disk-space"></a>Docker is eating my disk space<a class="hash-link" href="#docker-is-eating-my-disk-space" title="Direct link to heading">#</a></h3><p>You can reclaim this with:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">docker</span><span class="token plain"> system prune -f --volumes</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="where-do-i-find-the-dockerfile"></a>Where do I find the Dockerfile<a class="hash-link" href="#where-do-i-find-the-dockerfile" title="Direct link to heading">#</a></h3><p>This container can be found on Dockerhub as rucio/rucio-dev, and the
corresponding <a href="https://github.com/rucio/containers/tree/master/dev" target="_blank" rel="noopener noreferrer">Dockerfile</a>
is also available. It provides a Rucio environment which allows you to mount
your local code in the containers bin, lib, and tools directory. The container
is set up to run against a PostgreSQL database with fsync and most durability
features for the WAL disabled to improve testing IO throughput. Tests and checks
can be run against the development code without having to rebuild the container.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="i-need-a-docker-based-on-another-branch-not-ruciomaster"></a>I need a Docker based on another branch (not rucio/master)<a class="hash-link" href="#i-need-a-docker-based-on-another-branch-not-ruciomaster" title="Direct link to heading">#</a></h3><p>In such case, you can download the Rucio container files and e.g. choose to
modify the dev container before build:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> /opt</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/rucio/containers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/containers/dev</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Change anything you need, e.g. the code branch cloned to your docker container:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># from</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">RUN </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/rucio/rucio.git /tmp/rucio</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># to e.g.:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">RUN </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone --single-branch --branch next https://github.com/rucio/rucio.git /tmp/rucio</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="build-your-docker"></a>build your docker<a class="hash-link" href="#build-your-docker" title="Direct link to heading">#</a></h1><p>sudo docker build -t rucio/rucio-dev .</p><p>Compose as usual using docker-compose:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> /opt/rucio</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">docker-compose</span><span class="token plain"> --file etc/docker/dev/docker-compose.yml up -d</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="start-the-daemons"></a>Start the daemons<a class="hash-link" href="#start-the-daemons" title="Direct link to heading">#</a></h2><p>Daemons are not running in the docker environment, but all daemons support
single-execution mode with the –run-once argument. Reset the system first with:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">tools/run_tests_docker.sh -ir</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Some files are created. Let’s add them to a new dataset:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio add-dataset test:mynewdataset</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio attach test:mynewdataset test:file1 test:file2 test:file3 test:file4</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>If you run the command below, the files are not in the RSE XRD3, but only in
XRD1 and 2.:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI text"><div tabindex="0" class="prism-code language-text codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio list-file-replicas test:mynewdataset</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; +---------+--------+------------+-----------+---------------------------------+</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | SCOPE   | NAME   | FILESIZE   | ADLER32   | RSE: REPLICA                    |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; |---------+--------+------------+-----------+---------------------------------|</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file1  | 10.486 MB  | 141a641e  | XRD1: root://xrd1:1094/../file1 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file2  | 10.486 MB  | fdfa7eea  | XRD1: root://xrd1:1094/../file2 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file3  | 10.486 MB  | c669167d  | XRD2: root://xrd2:1095/../file3 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file4  | 10.486 MB  | 65786e49  | XRD2: root://xrd2:1095/../file4 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; +---------+--------+------------+-----------+---------------------------------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>So let’s add a new rule on our new dataset to oblige Rucio to create replicas
also on XRD3:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio add-rule test:mynewdataset </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> XRD3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> 1aadd685d891400dba050ad43e71fea9</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Now we can check the status of the rule. We will see there are 4 files in
Replicating state:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio rule-info 1aadd685d891400dba050ad43e71fea9</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> Locks</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> Locks OK/REPLICATING/STUCK: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">/4/0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Now we can run the daemons. First the rule evaluation daemon (judge-evaluator)
will pick up our rule. Then the transfer submitter daemon (conveyor-submitter)
will send the newly created transfers requests to the FTS server. After that,
the transfer state check daemon (conveyor-poller) will retrieve from FTS the
transfer state information. Finally, the transfer sign-off daemon
(conveyor-finisher) updates the internal state of the Rucio catalogue to reflect
the changes.:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio-judge-evaluator --run-once</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio-conveyor-submitter --run-once</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio-conveyor-poller --run-once</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio-conveyor-finisher --run-once</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>If we see the state of the rule now, we see the locks are OK:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio rule-info 1aadd685d891400dba050ad43e71fea9</span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token function" style="color:rgb(130, 170, 255)">grep</span><span class="token plain"> Locks</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> Locks OK/REPLICATING/STUCK: </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token plain">/0/0</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>And if we look at the replicas of the dataset, we see the there are replicas of
the files also in XRD3:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI text"><div tabindex="0" class="prism-code language-text codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">rucio list-file-replicas test:mynewdataset</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; +---------+--------+------------+-----------+--------------------------------+</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | SCOPE   | NAME   | FILESIZE   | ADLER32   | RSE: REPLICA                   |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; |---------+--------+------------+-----------+--------------------------------|</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file1  | 10.486 MB  | 141a641e  | XRD3: root://xrd3:1096/..file1 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file1  | 10.486 MB  | 141a641e  | XRD1: root://xrd1:1094/..file1 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file2  | 10.486 MB  | fdfa7eea  | XRD3: root://xrd3:1096/..file2 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file2  | 10.486 MB  | fdfa7eea  | XRD1: root://xrd1:1094/..file2 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file3  | 10.486 MB  | c669167d  | XRD2: root://xrd2:1095/..file3 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file3  | 10.486 MB  | c669167d  | XRD3: root://xrd3:1096/..file3 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file4  | 10.486 MB  | 65786e49  | XRD2: root://xrd2:1095/..file4 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; | test    | file4  | 10.486 MB  | 65786e49  | XRD3: root://xrd3:1096/..file4 |</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; +---------+--------+------------+-----------+--------------------------------+</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/rucio/documentation/tree/main/docs/../docs/developing.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-10-26T15:17:02.000Z" class="lastUpdatedDate_nN9m">10/26/2022</time> by <strong>Rizart Dona</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#preparing-the-environment" class="table-of-contents__link">Preparing the environment</a><ul><li><a href="#using-the-standard-environment" class="table-of-contents__link">Using the standard environment</a></li><li><a href="#using-the-environment-including-storage" class="table-of-contents__link">Using the environment including storage</a></li><li><a href="#using-the-environment-including-monitoring" class="table-of-contents__link">Using the environment including monitoring</a></li></ul></li><li><a href="#development" class="table-of-contents__link">Development</a></li><li><a href="#development-tricks" class="table-of-contents__link">Development tricks</a><ul><li><a href="#server-changes" class="table-of-contents__link">Server changes</a></li><li><a href="#database-access" class="table-of-contents__link">Database access</a></li><li><a href="#docker-is-eating-my-disk-space" class="table-of-contents__link">Docker is eating my disk space</a></li><li><a href="#where-do-i-find-the-dockerfile" class="table-of-contents__link">Where do I find the Dockerfile</a></li><li><a href="#i-need-a-docker-based-on-another-branch-not-ruciomaster" class="table-of-contents__link">I need a Docker based on another branch (not rucio/master)</a></li></ul></li><li><a href="#start-the-daemons" class="table-of-contents__link">Start the daemons</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/documentation/img/rucio_horizontaled_black.svg" alt="" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/documentation/img/rucio_horizontaled_white.svg" alt="" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright © 2022 CERN</div></div></div></footer></div>
<script src="/documentation/assets/js/styles.cfa2b2ef.js"></script>
<script src="/documentation/assets/js/runtime~main.f6344cb4.js"></script>
<script src="/documentation/assets/js/main.dd01a65a.js"></script>
<script src="/documentation/assets/js/1.f2114934.js"></script>
<script src="/documentation/assets/js/2.532199a1.js"></script>
<script src="/documentation/assets/js/375.677454d3.js"></script>
<script src="/documentation/assets/js/378.35e883c0.js"></script>
<script src="/documentation/assets/js/935f2afb.89cc8618.js"></script>
<script src="/documentation/assets/js/17896441.b72804f1.js"></script>
<script src="/documentation/assets/js/19229a1a.db822031.js"></script>
</body>
</html>